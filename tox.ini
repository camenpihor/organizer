[tox]
envlist=
    py36

[testenv:py36]
passenv=
    SECRET_KEY
    MAIN_IP_ADDRESS
    PG_NAME
    PG_USER
    PG_PASSWORD
    PG_HOST
    PG_PORT
    PG_URL
deps=
    -rrequirements.txt

commands=
    python -m pytest -v --cov=. --cov-report=html --cov-report=term

[testenv:pip-compile]
basepython=
    python3.6

deps=
    pip-tools

commands=
    pip-compile --no-index requirements.in requirements.testing.in -o requirements.txt

[coverage:run]
omit=
    tests/*,
    .tox/*,
    setup.py,
    management/*,  # django code
    organizer/management/*,  # django code
    organizer/migrations/*,  # django code
    organizer/admin.py  # django code
